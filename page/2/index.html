<!DOCTYPE html><html lang="zh-cn"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"><meta name="format-detection" content="telephone=no"><meta name="format-detection" content="email=no"><meta name="description"><meta name="keywords" content="Hexo, Gruntjs, Nodejs, Reactjs, Vuejs"><title>Hexo</title><link rel="stylesheet" href="/css/main_style.min.css"><link rel="icon" href="/favicon.ico"></head><body><input id="navi" type="checkbox"><ul class="main-navication"><li><a href="/"><span>Home</span></a></li><li><a href="https://github.com/syq1035"><span>Github</span></a></li></ul><div class="wrapper" id="wrap"><div class="page-header"><label class="navi-button" for="navi">MENU</label><div class="background"><img src="http://callfiles.ueibo.com/hexo-theme-laughing/page_background.jpg"></div><div class="author"><div class="head"><img src="head.jpg"></div><h3 class="name">syq</h3><p class="signature">越努力越幸运</p></div></div><ul class="post-list" style="max-width:800px"><li> <p class="date">March 13, 2019</p><div class="no-title"><p>###什么是 Hexo？</p>
<p><a href="https://hexo.io/" target="_blank" rel="noopener">hexo</a>是一个快速、简洁且高效的博客框架。Hexo 使用 <a href="http://daringfireball.net/projects/markdown/" target="_blank" rel="noopener">Markdown</a>（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。</p>
<h3 id="安装前提"><a href="#安装前提" class="headerlink" title="安装前提"></a>安装前提</h3><p>安装 Hexo 相当简单。然而在安装前，您必须检查电脑中是否已安装下列应用程序：</p>
<ul>
<li><a href="http://nodejs.org/" target="_blank" rel="noopener">Node.js</a></li>
<li><a href="http://git-scm.com/" target="_blank" rel="noopener">Git</a></li>
</ul>
<p>如果您的电脑中已经安装上述必备程序，那么恭喜您！接下来只需要使用 npm 即可完成 Hexo 的安装。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g hexo-cli</span><br></pre></td></tr></table></figure>
<p>如果您的电脑中尚未安装所需要的程序，请根据以下安装指示完成安装。</p>
<h3 id="初始化-hexo-博客项目"><a href="#初始化-hexo-博客项目" class="headerlink" title="初始化 hexo 博客项目"></a>初始化 hexo 博客项目</h3><p>1.新建一个文件夹 </p>
<p>2.在Hexo文件下，输入命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ hexo init</span><br><span class="line">$ npm install</span><br></pre></td></tr></table></figure>
<p>会生成如下图所示的文件结构 :</p>
<p>###文件目录介绍 </p>
<p><strong>1. _config.yml</strong></p>
<p>全局配置文件，网站的很多信息都在这里配置，诸如网站名称，副标题，描述，作者，语言，主题，部署等等参数, 这个文件下面会做较为详细的介绍 。</p>
<p><strong>2. scaffolds</strong></p>
<p><code>scaffolds</code> 是“ 脚手架、骨架 ”的意思，当你新建一篇文章（<code>hexo new &#39;title&#39;</code>）的时候，<code>hexo</code>是根据这个目录下的文件进行构建的 。</p>
<p><strong>3. package.json</strong></p>
<p><code>hexo</code> 框架的参数和所依赖插件，如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;hexo-site&quot;,</span><br><span class="line">  &quot;version&quot;: &quot;0.0.0&quot;,</span><br><span class="line">  &quot;private&quot;: true,</span><br><span class="line">  &quot;hexo&quot;: &#123;</span><br><span class="line">    &quot;version&quot;: &quot;&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;dependencies&quot;: &#123;</span><br><span class="line">    &quot;hexo&quot;: &quot;^3.2.0&quot;,</span><br><span class="line">    &quot;hexo-generator-archive&quot;: &quot;^0.1.4&quot;,</span><br><span class="line">    &quot;hexo-generator-category&quot;: &quot;^0.1.3&quot;,</span><br><span class="line">    &quot;hexo-generator-index&quot;: &quot;^0.2.0&quot;,</span><br><span class="line">    &quot;hexo-generator-tag&quot;: &quot;^0.2.0&quot;,</span><br><span class="line">    &quot;hexo-renderer-ejs&quot;: &quot;^0.3.0&quot;,</span><br><span class="line">    &quot;hexo-renderer-stylus&quot;: &quot;^0.3.1&quot;,</span><br><span class="line">    &quot;hexo-renderer-marked&quot;: &quot;^0.3.0&quot;,</span><br><span class="line">    &quot;hexo-server&quot;: &quot;^0.2.0&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果后期我们想安装一些插件, 也会写入 <code>package.json</code> 当中 .</p>
<p><strong>4. source</strong></p>
<p>这个目录很重要，新建的文章都是在保存在这个目录下的.</p>
<ul>
<li><code>_posts</code> 。需要新建的博文都放在 <code>_posts</code> 目录下。</li>
<li><code>_posts</code> 目录下是一个个 <code>markdown</code> 文件。你应该可以看到一个 <code>hello-world.md</code> 的文件，文章就在这个文件中编辑 。</li>
<li><code>_posts</code> 目录下的<code>md</code>文件，会被编译成 <code>html</code> 文件，放到 <code>public</code> （此文件现在应该没有，因为你还没有编译过）文件夹下。</li>
</ul>
<p><strong>5. themes</strong></p>
<p>网站主题目录，hexo有非常好的主题拓展，支持的主题也很丰富。该目录下，每一个子目录就是一个主题</p>
<p><strong>6. 我们打开 theme 文件夹下的主题文件夹, 会发现也有一个 _config.yml 文件</strong></p>
<p><code>_config.yml</code> 文件中的内容，是主题的一个配置信息</p>
<p><code>_config.yml</code> 采用YAML语法格式，具体配置可以参考<a href="https://hexo.io/zh-cn/docs/configuration.html" target="_blank" rel="noopener">官方文档</a></p>
<h3 id="本地浏览博客"><a href="#本地浏览博客" class="headerlink" title="本地浏览博客"></a>本地浏览博客</h3><p>分别输入下面两条命令 :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ hexo g</span><br><span class="line">$ hexo s</span><br></pre></td></tr></table></figure>
<p>在浏览器中输入 : <code>http://localhost:4000/</code></p>
<h3 id="部署到-Github-上"><a href="#部署到-Github-上" class="headerlink" title="部署到 Github 上"></a>部署到 <code>Github</code> 上</h3><ol>
<li>申请Github账号 </li>
<li>新建一个 <code>Repository</code> , 注意仓库的名字前缀必须和自己 <code>github</code> 的用户名保持严格一致，如 <code>xxx.github.io</code></li>
<li>在 <code>_config.yml</code> 进行配置</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># Deployment</span><br><span class="line">## Docs: https://hexo.io/docs/deployment.html</span><br><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo:</span><br><span class="line">    github: https://github.com/syq1035/syq1035.github.io</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure>
<p>在 <code>deploy</code> 中配置自己的仓库信息 ( 注意冒号后面有空格 )</p>
<ol>
<li>安装<a href="https://github.com/hexojs/hexo-deployer-git" target="_blank" rel="noopener">hexo-deployer-git</a>自动部署发布工具</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$  npm install hexo-deployer-git -–save</span><br></pre></td></tr></table></figure>
<ol>
<li>发布到Github</li>
</ol>
<p>输入如下命令 :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</span><br></pre></td></tr></table></figure>
<p>然后输入自己的 <code>Github</code> 用户名和密码即可</p>
<p>在浏览器中输入 <a href="https://xxx.github.io/" target="_blank" rel="noopener">https://xxx.github.io/</a> 便可以打开自己的博客啦 !</p>
<h3 id="修改主题"><a href="#修改主题" class="headerlink" title="修改主题"></a>修改主题</h3><p><a href="https://hexo.io/themes/" target="_blank" rel="noopener">进入主题官网</a> 选择喜欢的主题克隆；</p>
<p>修改主程序的<code>_config.yml</code>文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">theme: XXX</span><br></pre></td></tr></table></figure></div><ul class="meta"><li><i class="icon icon-author"></i>syq</li><li><i class="icon icon-clock"></i>8 Minutes</li><li><i class="icon icon-category"></i></li></ul></li><li> <p class="date">March 13, 2019</p><div class="no-title"><h1 id="hexo常用命令"><a href="#hexo常用命令" class="headerlink" title="hexo常用命令"></a>hexo常用命令</h1><h2 id="hexo"><a href="#hexo" class="headerlink" title="hexo"></a>hexo</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo -g #安装  </span><br><span class="line">npm update hexo -g #升级  </span><br><span class="line">hexo init #初始化</span><br></pre></td></tr></table></figure>
<h2 id="简写"><a href="#简写" class="headerlink" title="简写"></a>简写</h2><p><code>hexo n &quot;我的博客&quot;</code> == <code>hexo new &quot;我的博客&quot;</code> #新建文章<br><code>hexo p</code> == <code>hexo publish</code><br><code>hexo g</code> == <code>hexo generate</code>#生成<br><code>hexo s</code> == <code>hexo server</code> #启动服务预览<br><code>hexo d</code> == <code>hexo deploy</code>#部署网站</p>
<h2 id="服务器"><a href="#服务器" class="headerlink" title="服务器"></a>服务器</h2><p><code>hexo server</code> #Hexo 会监视文件变动并自动更新，您无须重启服务器。<br><code>hexo server -s</code> #静态模式<br><code>hexo server -p 5000</code> #更改端口<br><code>hexo server -i 192.168.1.1</code> #自定义 IP</p>
<p><code>hexo clean</code> #清除缓存 网页正常情况下可以忽略此条命令<br><code>hexo g</code> #生成静态网页<br><code>hexo d</code> #开始部署</p>
<h3 id="监视文件变动"><a href="#监视文件变动" class="headerlink" title="监视文件变动"></a>监视文件变动</h3><p><code>hexo generate</code> #使用 Hexo 生成静态文件快速而且简单<br><code>hexo generate --watch</code> #监视文件变动</p>
<h3 id="完成后部署"><a href="#完成后部署" class="headerlink" title="完成后部署"></a>完成后部署</h3><blockquote>
<p>两个命令的作用是相同的<br><code>hexo generate --deploy</code><br><code>hexo deploy --generate</code></p>
</blockquote>
<p><code>hexo deploy -g</code><br><code>hexo server -g</code></p>
<h2 id="草稿"><a href="#草稿" class="headerlink" title="草稿"></a>草稿</h2><p><code>hexo publish [layout] &lt;title&gt;</code></p>
<h2 id="模版"><a href="#模版" class="headerlink" title="模版"></a>模版</h2><p><code>hexo new &quot;postName&quot;</code> #新建文章<br><code>hexo new page &quot;pageName&quot;</code> #新建页面<br><code>hexo generate</code> #生成静态页面至public目录<br><code>hexo server</code> #开启预览访问端口（默认端口4000，’ctrl + c’关闭server）<br><code>hexo deploy</code> #将.deploy目录部署到GitHub</p>
<p><code>hexo new [layout] &lt;title&gt;</code><br><code>hexo new photo &quot;My Gallery&quot;</code><br><code>hexo new &quot;Hello World&quot; --lang tw</code></p>
<table>
<thead>
<tr>
<th>变量</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>layout</td>
<td>布局</td>
</tr>
<tr>
<td>title</td>
<td>标题</td>
</tr>
<tr>
<td>date</td>
<td>文件建立日期</td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">title: 使用Hexo搭建个人博客</span><br><span class="line">layout: post</span><br><span class="line">date: 2014-03-03 19:07:43</span><br><span class="line">comments: true</span><br><span class="line">categories: Blog</span><br><span class="line">tags: [Hexo]</span><br><span class="line">keywords: Hexo, Blog</span><br><span class="line">description: 生命在于折腾，又把博客折腾到Hexo了。给Hexo点赞。</span><br></pre></td></tr></table></figure>
<h2 id="模版（Scaffold）"><a href="#模版（Scaffold）" class="headerlink" title="模版（Scaffold）"></a>模版（Scaffold）</h2><p><code>hexo new photo &quot;My Gallery&quot;</code></p>
<table>
<thead>
<tr>
<th>变量</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>layout</td>
<td>布局</td>
</tr>
<tr>
<td>title</td>
<td>标题</td>
</tr>
<tr>
<td>date</td>
<td>文件建立日期</td>
</tr>
</tbody>
</table>
<h2 id="设置文章摘要"><a href="#设置文章摘要" class="headerlink" title="设置文章摘要"></a>设置文章摘要</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">以上是文章摘要 &lt;!--more--&gt; 以下是余下全文</span><br></pre></td></tr></table></figure>
<h2 id="写作"><a href="#写作" class="headerlink" title="写作"></a>写作</h2><p><code>hexo new page &lt;title&gt;</code><br><code>hexo new post &lt;title&gt;</code></p>
<table>
<thead>
<tr>
<th>变量</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>:title</td>
<td>标题</td>
</tr>
<tr>
<td>:year</td>
<td>建立的年份（4 位数）</td>
</tr>
<tr>
<td>:month</td>
<td>建立的月份（2 位数）</td>
</tr>
<tr>
<td>:i_month</td>
<td>建立的月份（去掉开头的零）</td>
</tr>
<tr>
<td>:day</td>
<td>建立的日期（2 位数）</td>
</tr>
<tr>
<td>:i_day</td>
<td>建立的日期（去掉开头的零）</td>
</tr>
</tbody>
</table>
<h3 id="推送到服务器上"><a href="#推送到服务器上" class="headerlink" title="推送到服务器上"></a>推送到服务器上</h3><p><code>hexo n</code> #写文章<br><code>hexo g</code> #生成<br><code>hexo d</code> #部署 #可与<code>hexo g</code>合并为 <code>hexo d -g</code></p>
<h2 id="报错"><a href="#报错" class="headerlink" title="报错"></a>报错</h2><h3 id="1-找不到git部署"><a href="#1-找不到git部署" class="headerlink" title="1.找不到git部署"></a>1.找不到git部署</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ERROR Deployer not found: git</span><br></pre></td></tr></table></figure>
<p><strong>解决方法</strong></p>
<p><code>npm install hexo-deployer-git --save</code></p>
<h3 id="3-部署类型设置git"><a href="#3-部署类型设置git" class="headerlink" title="3.部署类型设置git"></a>3.部署类型设置git</h3><p>hexo 3.0 部署类型不再是<code>github</code>，<code>_config.yml</code> 中修改</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># Deployment</span><br><span class="line">## Docs: http://hexo.io/docs/deployment.html</span><br><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repository: git@***.github.com:***/***.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure>
<h3 id="4-xcodebuild"><a href="#4-xcodebuild" class="headerlink" title="4. xcodebuild"></a>4. xcodebuild</h3><p>xcode-select: error: tool ‘xcodebuild’ requires Xcode, but active developer directory ‘/Library/Developer/CommandLineTools’ is a command line tools instance</p>
<p><code>npm install bcrypt</code></p>
<h3 id="5-RSS不显示"><a href="#5-RSS不显示" class="headerlink" title="5. RSS不显示"></a>5. RSS不显示</h3><h4 id="安装RSS插件"><a href="#安装RSS插件" class="headerlink" title="安装RSS插件"></a>安装RSS插件</h4><p><code>npm install hexo-generator-feed --save</code></p>
<h4 id="开启RSS功能"><a href="#开启RSS功能" class="headerlink" title="开启RSS功能"></a>开启RSS功能</h4><p>编辑hexo/_config.yml，添加如下代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rss: /atom.xml #rss地址  默认即可</span><br></pre></td></tr></table></figure>
<h4 id="开启评论"><a href="#开启评论" class="headerlink" title="开启评论"></a>开启评论</h4><p>1.我使用多说代替自带的评论，在<a href="http://duoshuo.com/" target="_blank" rel="noopener">多说</a> 网站注册 &gt; 后台管理 &gt; 添加新站点 &gt; 工具 === 复制通用代码 里面有 short_name</p>
<ol>
<li>在根目录 <code>_config.yml</code> 添加一行 <code>disqus_shortname: jslite</code> 是在多说注册时产生的</li>
<li>复制到 <code>themes\landscape\layout\_partial\article.ejs</code><br>把</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if (!index &amp;&amp; post.comments &amp;&amp; config.disqus_shortname)&#123; %&gt;</span><br><span class="line">&lt;section id=&quot;comments&quot;&gt;</span><br><span class="line">&lt;div id=&quot;disqus_thread&quot;&gt;</span><br><span class="line">  &lt;noscript&gt;Please enable JavaScript to view the &lt;a href=&quot;//disqus.com/?ref_noscript&quot;&gt;comments powered by Disqus.&lt;/a&gt;&lt;/noscript&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/section&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure>
<p>改为</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if (!index &amp;&amp; post.comments &amp;&amp; config.disqus_shortname)&#123; %&gt;</span><br><span class="line">  &lt;section id=&quot;comments&quot;&gt;</span><br><span class="line">    &lt;!-- 多说评论框 start --&gt;</span><br><span class="line">    &lt;div class=&quot;ds-thread&quot; data-thread-key=&quot;&lt;%= post.layout %&gt;-&lt;%= post.slug %&gt;&quot; data-title=&quot;&lt;%= post.title %&gt;&quot; data-url=&quot;&lt;%= page.permalink %&gt;&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;!-- 多说评论框 end --&gt;</span><br><span class="line">    &lt;!-- 多说公共JS代码 start (一个网页只需插入一次) --&gt;</span><br><span class="line">    &lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">    var duoshuoQuery = &#123;short_name:&apos;&lt;%= config.disqus_shortname %&gt;&apos;&#125;;</span><br><span class="line">      (function() &#123;</span><br><span class="line">        var ds = document.createElement(&apos;script&apos;);</span><br><span class="line">        ds.type = &apos;text/javascript&apos;;ds.async = true;</span><br><span class="line">        ds.src = (document.location.protocol == &apos;https:&apos; ? &apos;https:&apos; : &apos;http:&apos;) + &apos;//static.duoshuo.com/embed.js&apos;;</span><br><span class="line">        ds.charset = &apos;UTF-8&apos;;</span><br><span class="line">        (document.getElementsByTagName(&apos;head&apos;)[0] </span><br><span class="line">         || document.getElementsByTagName(&apos;body&apos;)[0]).appendChild(ds);</span><br><span class="line">      &#125;)();</span><br><span class="line">      &lt;/script&gt;</span><br><span class="line">    &lt;!-- 多说公共JS代码 end --&gt;</span><br><span class="line">  &lt;/section&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure></div><ul class="meta"><li><i class="icon icon-author"></i>syq</li><li><i class="icon icon-clock"></i>12 Minutes</li><li><i class="icon icon-category"></i></li></ul></li><li> <p class="date">March 13, 2019</p><div class="no-title"><h1 id="Git"><a href="#Git" class="headerlink" title="Git"></a>Git</h1><h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.email &quot;you@example.com&quot;  //获取当前登录用户的邮箱</span><br><span class="line"></span><br><span class="line">git config --global user.name &quot;your name&quot;  //获取当前登录的用户</span><br></pre></td></tr></table></figure>
<p>注：global 为全局配置</p>
<h3 id="GitHub的ssh-key"><a href="#GitHub的ssh-key" class="headerlink" title="GitHub的ssh key"></a>GitHub的ssh key</h3><ol>
<li>生成一对shh key（id_rsa私钥，id_rsa.pub公钥）</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen</span><br></pre></td></tr></table></figure>
<p>注：在主目录下生成的密钥在 /c/Users/用户名/.ssh/id_rsa 里</p>
<ol>
<li>查看公钥内容（需在.ssh目录下执行）</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat id_rsa.pub</span><br></pre></td></tr></table></figure>
<ol>
<li>复制密钥内容添加到 github 上</li>
<li>使用ssh协议上传文件到仓库</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br><span class="line"></span><br><span class="line">git add .</span><br><span class="line"></span><br><span class="line">git commit -m &quot; &quot;</span><br><span class="line"></span><br><span class="line">git remote add origin git@github.com:...</span><br><span class="line"></span><br><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure>
<p>注：若在创建新仓库时有readme.md 文件会上传失败</p>
<h3 id="直接上传本地文件"><a href="#直接上传本地文件" class="headerlink" title="直接上传本地文件"></a><strong>直接上传本地文件</strong></h3><ol>
<li><p>初始化git仓库</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git init   //在文件夹下初始化一个仓库，此时文件里会得到一个.git的隐藏文件夹</span><br></pre></td></tr></table></figure>
</li>
<li><p>添加文件到暂存区</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git add .   //全部添加到缓存区</span><br><span class="line"></span><br><span class="line">git add index.html     //添加index.html到缓存区</span><br><span class="line"></span><br><span class="line">git add —A        //所有修改内容添加到缓存区</span><br></pre></td></tr></table></figure>
</li>
<li><p>增加到版本库中</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m &quot;版本留言描述&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>连接远程仓库</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin 仓库地址</span><br></pre></td></tr></table></figure>
</li>
<li><p>将本地仓库推送到GitHub远程仓库上</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git push </span><br><span class="line"></span><br><span class="line">git push -u origin master    //首次执行，说明上传到仓库的master分支上</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="从自己的远程仓库中克隆下来修改后上传"><a href="#从自己的远程仓库中克隆下来修改后上传" class="headerlink" title="从自己的远程仓库中克隆下来修改后上传"></a>从自己的远程仓库中克隆下来修改后上传</h3><p>(相当于已经和远程仓库链接了，克隆下来也有属于自己仓库中的.git）</p>
<ol>
<li><p>从远程库克隆到本地</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone 仓库地址</span><br></pre></td></tr></table></figure>
</li>
<li><p>添加文件到暂存区</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br></pre></td></tr></table></figure>
</li>
<li><p>增加到版本库中</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m &quot;备注信息&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>推送到GitHub仓库里</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="分支"><a href="#分支" class="headerlink" title="分支"></a>分支</h3><ol>
<li>查看分支</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch</span><br></pre></td></tr></table></figure>
<ol>
<li>添加并切换分支</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkkout -b 分支名    //默认与master分支内容相同</span><br></pre></td></tr></table></figure>
<ol>
<li>切换分支</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout 分支名</span><br></pre></td></tr></table></figure>
<ol>
<li>删除分支</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -D 分支名</span><br></pre></td></tr></table></figure>
<ol>
<li>删除GitHub上的分支</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin :分支名</span><br></pre></td></tr></table></figure>
<ol>
<li>合并分支</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git merge 分支名</span><br></pre></td></tr></table></figure>
<h3 id="其它"><a href="#其它" class="headerlink" title="其它"></a>其它</h3><ol>
<li>查看状态</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br></pre></td></tr></table></figure>
<ol>
<li>查看远程仓库</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote -v</span><br></pre></td></tr></table></figure>
<ol>
<li>删除远程仓库</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote rm origin</span><br></pre></td></tr></table></figure>
<p>注：仓库地址可以选择HTTPS协议（<a href="http://github.com...）、ssh协议（git@github.com...）如果选择ssh协议，必须将公钥添加到GitHub上。" target="_blank" rel="noopener">http://github.com...）、ssh协议（git@github.com...）如果选择ssh协议，必须将公钥添加到GitHub上。</a></p>
</div><ul class="meta"><li><i class="icon icon-author"></i>syq</li><li><i class="icon icon-clock"></i>8 Minutes</li><li><i class="icon icon-category"></i></li></ul></li><li> <p class="date">March 13, 2019</p><div class="no-title"><h1 id="CSS属性"><a href="#CSS属性" class="headerlink" title="CSS属性"></a>CSS属性</h1><ul>
<li>CSS<strong>背景属性</strong></li>
</ul>
<table>
<thead>
<tr>
<th>属性</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="http://www.w3school.com.cn/cssref/pr_background.asp" target="_blank" rel="noopener">background</a></td>
<td>简写属性，作用是将背景属性设置在一个声明中。</td>
</tr>
<tr>
<td><a href="http://www.w3school.com.cn/cssref/pr_background-attachment.asp" target="_blank" rel="noopener">background-attachment</a></td>
<td>背景图像是否固定或者随着页面的其余部分滚动。</td>
</tr>
<tr>
<td><a href="http://www.w3school.com.cn/cssref/pr_background-color.asp" target="_blank" rel="noopener">background-color</a></td>
<td>设置元素的背景颜色。</td>
</tr>
<tr>
<td><a href="http://www.w3school.com.cn/cssref/pr_background-image.asp" target="_blank" rel="noopener">background-image</a></td>
<td>把图像设置为背景。</td>
</tr>
<tr>
<td><a href="http://www.w3school.com.cn/cssref/pr_background-position.asp" target="_blank" rel="noopener">background-position</a></td>
<td>设置背景图像的起始位置。</td>
</tr>
<tr>
<td><a href="http://www.w3school.com.cn/cssref/pr_background-repeat.asp" target="_blank" rel="noopener">background-repeat</a></td>
<td>设置背景图像是否及如何重复。</td>
</tr>
</tbody>
</table>
<ul>
<li>CSS<strong>文本属性</strong></li>
</ul>
<table>
<thead>
<tr>
<th>属性</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="http://www.w3school.com.cn/cssref/pr_text_color.asp" target="_blank" rel="noopener">color</a></td>
<td>设置文本颜色</td>
</tr>
<tr>
<td><a href="http://www.w3school.com.cn/cssref/pr_text_direction.asp" target="_blank" rel="noopener">direction</a></td>
<td>设置文本方向。</td>
</tr>
<tr>
<td><a href="http://www.w3school.com.cn/cssref/pr_dim_line-height.asp" target="_blank" rel="noopener">line-height</a></td>
<td>设置行高。</td>
</tr>
<tr>
<td><a href="http://www.w3school.com.cn/cssref/pr_text_letter-spacing.asp" target="_blank" rel="noopener">letter-spacing</a></td>
<td>设置字符间距。</td>
</tr>
<tr>
<td><a href="http://www.w3school.com.cn/cssref/pr_text_text-align.asp" target="_blank" rel="noopener">text-align</a></td>
<td>对齐元素中的文本。</td>
</tr>
<tr>
<td><a href="http://www.w3school.com.cn/cssref/pr_text_text-decoration.asp" target="_blank" rel="noopener">text-decoration</a></td>
<td>向文本添加修饰。</td>
</tr>
<tr>
<td><a href="http://www.w3school.com.cn/cssref/pr_text_text-indent.asp" target="_blank" rel="noopener">text-indent</a></td>
<td>缩进元素中文本的首行。</td>
</tr>
</tbody>
</table>
<ul>
<li>CSS<strong>字体属性</strong></li>
</ul>
<table>
<thead>
<tr>
<th>属性</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="http://www.w3school.com.cn/cssref/pr_font_font.asp" target="_blank" rel="noopener">font</a></td>
<td>简写属性。作用是把所有针对字体的属性设置在一个声明中。</td>
</tr>
<tr>
<td><a href="http://www.w3school.com.cn/cssref/pr_font_font-family.asp" target="_blank" rel="noopener">font-family</a></td>
<td>设置字体系列。</td>
</tr>
<tr>
<td><a href="http://www.w3school.com.cn/cssref/pr_font_font-size.asp" target="_blank" rel="noopener">font-size</a></td>
<td>设置字体的尺寸。</td>
</tr>
<tr>
<td><a href="http://www.w3school.com.cn/cssref/pr_font_font-size-adjust.asp" target="_blank" rel="noopener">font-size-adjust</a></td>
<td>当首选字体不可用时，对替换字体进行智能缩放。（CSS2.1 已删除该属性。）</td>
</tr>
<tr>
<td><a href="http://www.w3school.com.cn/cssref/pr_font_font-stretch.asp" target="_blank" rel="noopener">font-stretch</a></td>
<td>对字体进行水平拉伸。（CSS2.1 已删除该属性。）</td>
</tr>
<tr>
<td><a href="http://www.w3school.com.cn/cssref/pr_font_font-style.asp" target="_blank" rel="noopener">font-style</a></td>
<td>设置字体风格。</td>
</tr>
<tr>
<td><a href="http://www.w3school.com.cn/cssref/pr_font_font-variant.asp" target="_blank" rel="noopener">font-variant</a></td>
<td>以小型大写字体或者正常字体显示文本。</td>
</tr>
<tr>
<td><a href="http://www.w3school.com.cn/cssref/pr_font_weight.asp" target="_blank" rel="noopener">font-weight</a></td>
<td>设置字体的粗细。</td>
</tr>
</tbody>
</table>
<ul>
<li>CSS<strong>列表属性</strong></li>
</ul>
<table>
<thead>
<tr>
<th>属性</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="http://www.w3school.com.cn/cssref/pr_list-style.asp" target="_blank" rel="noopener">list-style</a></td>
<td>简写属性。用于把所有用于列表的属性设置于一个声明中。</td>
</tr>
<tr>
<td><a href="http://www.w3school.com.cn/cssref/pr_list-style-image.asp" target="_blank" rel="noopener">list-style-image</a></td>
<td>将图象设置为列表项标志。</td>
</tr>
<tr>
<td><a href="http://www.w3school.com.cn/cssref/pr_list-style-position.asp" target="_blank" rel="noopener">list-style-position</a></td>
<td>设置列表中列表项标志的位置。</td>
</tr>
<tr>
<td><a href="http://www.w3school.com.cn/cssref/pr_list-style-type.asp" target="_blank" rel="noopener">list-style-type</a></td>
<td>设置列表项标志的类型。</td>
</tr>
</tbody>
</table>
<ul>
<li>CSS<strong>表格属性</strong></li>
</ul>
<table>
<thead>
<tr>
<th>属性</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="http://www.w3school.com.cn/cssref/pr_tab_border-collapse.asp" target="_blank" rel="noopener">border-collapse</a></td>
<td>设置是否把表格边框合并为单一的边框。</td>
</tr>
<tr>
<td><a href="http://www.w3school.com.cn/cssref/pr_tab_border-spacing.asp" target="_blank" rel="noopener">border-spacing</a></td>
<td>设置分隔单元格边框的距离。</td>
</tr>
<tr>
<td><a href="http://www.w3school.com.cn/cssref/pr_tab_caption-side.asp" target="_blank" rel="noopener">caption-side</a></td>
<td>设置表格标题的位置。</td>
</tr>
<tr>
<td><a href="http://www.w3school.com.cn/cssref/pr_tab_empty-cells.asp" target="_blank" rel="noopener">empty-cells</a></td>
<td>设置是否显示表格中的空单元格。</td>
</tr>
<tr>
<td><a href="http://www.w3school.com.cn/cssref/pr_tab_table-layout.asp" target="_blank" rel="noopener">table-layout</a></td>
<td>设置显示单元、行和列的算法。</td>
</tr>
</tbody>
</table>
</div><ul class="meta"><li><i class="icon icon-author"></i>syq</li><li><i class="icon icon-clock"></i>6 Minutes</li><li><i class="icon icon-category"></i></li></ul></li><li> <p class="date">March 13, 2019</p><div class="no-title"><h1 id="Canvas"><a href="#Canvas" class="headerlink" title="Canvas"></a>Canvas</h1><h3 id="创建canvas"><a href="#创建canvas" class="headerlink" title="创建canvas"></a>创建canvas</h3><p>首先创建一个canvas元素，我们只需要在html文件中加入这么一句代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;canvas id=&quot;canvas&quot;&gt;&lt;/canvas&gt;</span><br></pre></td></tr></table></figure>
<p>同时我们也可以通过canvas的标签属性width和height设置canvas画布的大小：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;canvas id=&quot;canvas&quot; width=&quot;800&quot; height=&quot;800&quot;&gt;&lt;/canvas&gt;</span><br></pre></td></tr></table></figure>
<p>当然，我们也可以通过js来设置canvas的宽高。</p>
<p>接下来我们就在js中获取到该canvas元素，然后设置它的宽高，并获取到上下文的环境：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var canvas = document.getElementById(&quot;canvas&quot;);//获取到canvas元素</span><br><span class="line">//设置宽高</span><br><span class="line">canvas.width = 800;</span><br><span class="line">canvas.height = 800;</span><br><span class="line">var context = canvas.getContext(&quot;2d&quot;);//获取上下文的环境</span><br></pre></td></tr></table></figure>
<p>接下来的所有操作都是基于这个context的上下文环境。</p>
<h3 id="画线"><a href="#画线" class="headerlink" title="画线"></a>画线</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">context.moveTo(100,100);</span><br><span class="line">context.lineTo(500,500);</span><br></pre></td></tr></table></figure>
<p>moveTo()方法表示一次绘制的起点坐标，lineTo()表示基于上一个坐标点到这个坐标点之间的直线连接。</p>
<p>值得注意的是，canvas是基于状态的绘制，而不是基于对象的绘制。所以，上面代码都是状态的设置，我们还需要使用stroke()方法进行绘制：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">context.stroke();//绘制</span><br></pre></td></tr></table></figure>
<p>线条的其它基本属性：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">context.lineWidth = 8;//线条的宽度</span><br><span class="line">context.strokeStyle = &quot;#333&quot;;//线条的颜色</span><br></pre></td></tr></table></figure>
<p>一个简单的绘制一条直线的完整例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;canvas id=&quot;canvas&quot;&gt;&lt;/canvas&gt;                                                     **.html</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">var canvas = document.getElementById(&quot;canvas&quot;);//获取到canvas元素                    **.js</span><br><span class="line">//设置宽高</span><br><span class="line">canvas.width = 800;</span><br><span class="line">canvas.height = 800;</span><br><span class="line">var context = canvas.getContext(&quot;2d&quot;);//获取上下文的环境</span><br><span class="line">//canvas 是基于状态的绘制，而不是对象</span><br><span class="line">context.moveTo(100,100);</span><br><span class="line">context.lineTo(500,500);</span><br><span class="line">context.lineWidth = 8;//线条的宽度</span><br><span class="line">context.strokeStyle = &quot;#333&quot;;//线条的颜色</span><br><span class="line">context.stroke();//绘制</span><br></pre></td></tr></table></figure>
<h3 id="画矩形"><a href="#画矩形" class="headerlink" title="画矩形"></a>画矩形</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">//绘制实心矩形:</span><br><span class="line">context.fillStyle = &apos;blue&apos;;</span><br><span class="line">context.fillRect(100,125,50,50); //(x,y,w,h)</span><br><span class="line"></span><br><span class="line">//绘制空心矩形</span><br><span class="line">context.strokeStyle = &apos;yellow&apos;;</span><br><span class="line">context.strokeRect(100,180,50,50) //(x,y,w,h)</span><br></pre></td></tr></table></figure>
<h3 id="画网格"><a href="#画网格" class="headerlink" title="画网格"></a>画网格</h3><p>网格是通过先画矩形，然后在矩形内画线形成的</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">//描绘边框</span><br><span class="line">context.beginPath();</span><br><span class="line">context.linewidth = 1; </span><br><span class="line">context.rect(0,0,width,height);</span><br><span class="line">context.stroke();</span><br><span class="line">//准备画横线</span><br><span class="line">for(let row_i = 1; row_i&lt;row; row_i++)&#123;</span><br><span class="line">var y = row_i * 30;             </span><br><span class="line">context.moveTo(0,y);  </span><br><span class="line">context.lineTo(width,y);</span><br><span class="line">&#125;</span><br><span class="line">//准备画竖线</span><br><span class="line">for(let col_i = 1; col_i&lt;col; col_i++)&#123;</span><br><span class="line">var x = col_i * 30;                          </span><br><span class="line">context.moveTo(x, 0);  </span><br><span class="line">context.lineTo(x, height);</span><br><span class="line">&#125;</span><br><span class="line">//完成描绘  </span><br><span class="line">context.stroke();</span><br></pre></td></tr></table></figure>
<p>绘制动态大小的网格例子:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">//单个网格宽高</span><br><span class="line">let GAID_WIDTH = 30;</span><br><span class="line">let GAID_HEIGHT = 30;</span><br><span class="line"></span><br><span class="line">let canvas = document.getElementById(&apos;canvas&apos;);</span><br><span class="line">context = canvas.getContext(&quot;2d&quot;);</span><br><span class="line"> </span><br><span class="line">function createGrid(row,col)&#123;</span><br><span class="line">    //计算画布宽高</span><br><span class="line">    let width = GAID_WIDTH*col;</span><br><span class="line">    let height = GAID_HEIGHT*row;</span><br><span class="line">    //设置画布宽高</span><br><span class="line">    canvas.setAttribute(&quot;width&quot;,width);</span><br><span class="line">    canvas.setAttribute(&quot;height&quot;,height);</span><br><span class="line">    </span><br><span class="line">    //描绘边框</span><br><span class="line">    context.beginPath();</span><br><span class="line">    context.linewidth = 1; </span><br><span class="line">    context.rect(0,0,width,height);</span><br><span class="line">    context.stroke();</span><br><span class="line"></span><br><span class="line">    //准备画横线</span><br><span class="line">    for(let row_i = 1; row_i&lt;row; row_i++)&#123;</span><br><span class="line">    var y = row_i*GAID_HEIGHT;          </span><br><span class="line">    context.moveTo(0,y);  </span><br><span class="line">    context.lineTo(width,y);</span><br><span class="line">    &#125;</span><br><span class="line">    //准备画竖线</span><br><span class="line">    for(let col_i = 1; col_i&lt;col; col_i++)&#123;</span><br><span class="line">    var x = col_i*GAID_WIDTH;                        </span><br><span class="line">    context.moveTo(x,0);  </span><br><span class="line">    context.lineTo(x,height);</span><br><span class="line">    &#125;</span><br><span class="line">    //完成描绘  </span><br><span class="line">    context.stroke();</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h3 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h3><p>1 . <code>moveTo(x, y)</code> 将笔触移动到指定的坐标x以及y上。</p>
<p>当canvas初始化或者<code>beginPath()</code>调用后，你通常会使用<code>moveTo()</code>函数设置起点。我们也能够使用<code>moveTo()</code>绘制一些不连续的路径。</p>
<p>2 . <code>lineTo(x, y)</code></p>
<p>该方法有两个参数：x以及y ，代表坐标系中直线结束的点。开始点和之前的绘制路径有关，之前路径的结束点就是接下来的开始点，等等。。。开始点也可以通过<code>moveTo()</code>函数改变。</p>
<p>3 . <code>beginPath()</code> 开始一条路径，或重置当前的路径</p>
<p>4 .<code>closePath()</code> 创建从当前点到开始点的路径</p>
<p>5 .<code>fillStyle = color</code> 设置图形的填充颜色。</p>
<p><code>strokeStyle = color</code> 设置图形轮廓的颜色。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">context.fillStyle = &quot;black&quot;;      //fillStyle 属性来填充另一个颜色/渐变</span><br><span class="line">context.fill();      //fill()方法填充图像（默认是黑色）</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">context.font=&quot;15px Georgia&quot;;     //设置字体</span><br><span class="line">context.fillText( text,x,y,maxWidth )    //在画布上绘制填色的文本。文本的默认颜色是黑色</span><br></pre></td></tr></table></figure>
<p>6 .<code>clearRect( x,y,width,height )</code> 清空给定矩形内的指定像素 , 可用于在重绘时清空画布</p>
<p>7 .<code>isPointInPath( x,y )</code> 方法返回 true，如果指定的点位于当前路径中；否则返回 false。</p>
<p>仅能识别当前上下文环境里的图形路径，而之前绘制的路径，无法回溯判断。这种问题的解决方法是：当点击事件发生时，重绘所有图形，每绘制一个就使用isPointInPath方法，判断事件坐标是否在该图形覆盖范围内。</p>
<p>8 .<code>getImageData(x, y, width, height)</code> 获取 canvas 指定范围的像素数据，然后遍历判断 RGBA 色值。</p>
<h3 id="使用jquery控制canvas的时候出现的问题"><a href="#使用jquery控制canvas的时候出现的问题" class="headerlink" title="使用jquery控制canvas的时候出现的问题"></a>使用jquery控制canvas的时候出现的问题</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">//DOM操作，没有问题</span><br><span class="line">let canvas = document.getElementById(&apos;canvas&apos;);</span><br><span class="line">context = canvas.getContext(&quot;2d&quot;);</span><br></pre></td></tr></table></figure>
<p>换成jQuery</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">context = $(&quot;#canvas&quot;).getContext(&quot;2d&quot;);</span><br><span class="line">//出现错误，对象获取不到getContext()方法</span><br></pre></td></tr></table></figure>
<p>jQuery操控的正确方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">context = $(&quot;#canvas&quot;)[0].getContext(&quot;2d&quot;);</span><br></pre></td></tr></table></figure>
<p>原因：jQuery对象就是类数组，用数组下标可以取得Dom对象</p>
</div><ul class="meta"><li><i class="icon icon-author"></i>syq</li><li><i class="icon icon-clock"></i>14 Minutes</li><li><i class="icon icon-category"></i></li></ul></li><li> <p class="date">March 13, 2019</p><div class="no-title"><h1 id="canvas-jquery-实现扫雷小游戏"><a href="#canvas-jquery-实现扫雷小游戏" class="headerlink" title="canvas + jquery 实现扫雷小游戏"></a>canvas + jquery 实现扫雷小游戏</h1><p><a href="https://syq1035.github.io/clearMine/" target="_blank" rel="noopener">游戏试玩</a></p>
<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>这个小游戏主要思路是canvas与数组的映射，每一个小网格对应二维数组的一个元素，利用数组来存储网格的信息，如 某网格是否有雷，周围九宫格雷的个数，是否已经被打开</p>
<p>这里定义了三个数组</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let gridStatus_arr = [];          //存储格子身份状态，状态1为雷</span><br><span class="line">let mineNum_arr = [];            //存储格子周围八个格子雷的数量</span><br><span class="line">let click_arr = [];           //存储格子点击状态，点击过的为1</span><br></pre></td></tr></table></figure>
<h3 id="1-布局"><a href="#1-布局" class="headerlink" title="1. 布局"></a>1. 布局</h3><p>先添加三个难度的按钮</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;button class=&quot;type&quot; data-row=&quot;9&quot; data-col=&quot;9&quot; data-mine=&quot;10&quot;&gt;简单&lt;/button&gt;</span><br><span class="line">&lt;button class=&quot;type&quot; data-row=&quot;14&quot; data-col=&quot;14&quot; data-mine=&quot;36&quot;&gt;中级&lt;/button&gt;</span><br><span class="line">&lt;button class=&quot;type&quot; data-row=&quot;14&quot; data-col=&quot;22&quot; data-mine=&quot;56&quot;&gt;高级&lt;/button&gt;</span><br></pre></td></tr></table></figure>
<p>点击相应按钮通过 js 获取对应的 <code>data</code> 属性, 然后动态的生成相应的方格, 然后动态计算包裹所有小方格的宽度和高度</p>
<p>然后创建一个canvas元素</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;canvas id=&quot;canvas&quot;&gt;&lt;/canvas&gt;</span><br></pre></td></tr></table></figure>
<p>canvas画布的大小属性width和height先不设置，后面通过js动态设置</p>
<h3 id="2-按钮点击事件，并初始化画布"><a href="#2-按钮点击事件，并初始化画布" class="headerlink" title="2. 按钮点击事件，并初始化画布"></a>2. 按钮点击事件，并初始化画布</h3><p>点击难度按钮，动态初始化画布</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">//获取canvas元素</span><br><span class="line">context = $(&quot;#canvas&quot;)[0].getContext(&quot;2d&quot;);</span><br><span class="line"></span><br><span class="line">$(&quot;.type&quot;).click(function()&#123;</span><br><span class="line">    row = $(this).data(&apos;row&apos;);</span><br><span class="line">    col = $(this).data(&apos;col&apos;);</span><br><span class="line">    mine = $(this).data(&apos;mine&apos;);</span><br><span class="line">    init(mine);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">//初始化</span><br><span class="line">function init(mine)&#123;</span><br><span class="line">    createGrid();      //创建网格</span><br><span class="line">    createMine(mine);     //随机生成雷</span><br><span class="line">    countArountMine();      //计算每个格子周围八个格子雷的数量</span><br><span class="line">    createClickEvent();    //添加点击事件</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-canvas创建网格"><a href="#3-canvas创建网格" class="headerlink" title="3.canvas创建网格"></a>3.canvas创建网格</h3><p>利用canvas画网格，先画一个相应大小的矩形，然后在矩形内画线形成网格</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">function createGrid()&#123;</span><br><span class="line">        //计算画布宽高</span><br><span class="line">        let width = GAID_WIDTH*col;</span><br><span class="line">        let height = GAID_HEIGHT*row;</span><br><span class="line"></span><br><span class="line">        //设置画布宽高</span><br><span class="line">        canvas.setAttribute(&quot;width&quot;,width)</span><br><span class="line">        canvas.setAttribute(&quot;height&quot;,height)</span><br><span class="line">        //描绘边框</span><br><span class="line">        context.beginPath();</span><br><span class="line">        context.linewidth = 1; </span><br><span class="line">        context.rect(0,0,width,height);</span><br><span class="line">        context.stroke();</span><br><span class="line">        context.fillStyle = &apos;#909090&apos;;</span><br><span class="line">        context.fill();</span><br><span class="line"></span><br><span class="line">        //准备画横线</span><br><span class="line">        for(let row_i = 1; row_i&lt;row; row_i++)&#123;</span><br><span class="line">            var y = row_i*GAID_HEIGHT; </span><br><span class="line">            context.strokeStyle = &apos;white&apos;;            </span><br><span class="line">            context.moveTo(0,y);  </span><br><span class="line">            context.lineTo(width,y);</span><br><span class="line">        &#125;</span><br><span class="line">        //准备画竖线</span><br><span class="line">        for(let col_i = 1; col_i&lt;col; col_i++)&#123;</span><br><span class="line">            var x = col_i*GAID_WIDTH;  </span><br><span class="line">            context.strokeStyle = &apos;white&apos;;                        </span><br><span class="line">            context.moveTo(x,0);  </span><br><span class="line">            context.lineTo(x,height);</span><br><span class="line">        &#125;</span><br><span class="line">        //完成描绘  </span><br><span class="line">        context.stroke();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="4-随机生成雷"><a href="#4-随机生成雷" class="headerlink" title="4. 随机生成雷"></a>4. 随机生成雷</h3><p>添加雷，改变格子身份状态 ，1代表雷区</p>
<p>这里是利用二维数组和网格的映射来实现的</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">function createMine(mine)&#123;</span><br><span class="line">        $(&apos;#mine&apos;).text(mine);</span><br><span class="line">        //将数组变为二维</span><br><span class="line">        for(let i=0; i&lt;row; i++)&#123;</span><br><span class="line">            gridStatus_arr[i] = [];</span><br><span class="line">            mineNum_arr[i] = [];</span><br><span class="line">            click_arr[i] = [];</span><br><span class="line">        &#125;</span><br><span class="line">        //初始化二维数组</span><br><span class="line">        for(let i=0; i&lt;row; i++)&#123;</span><br><span class="line">            for(let j=0; j&lt;col; j++)&#123;</span><br><span class="line">                gridStatus_arr[i][j] = 0;</span><br><span class="line">                mineNum_arr[i][j] = 0;</span><br><span class="line">                click_arr[i][j] = 0;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        //添加雷，改变格子身份状态</span><br><span class="line">        while(mine!=0)&#123;</span><br><span class="line">            let mine_row = Math.floor(Math.random() * row);</span><br><span class="line">            let mine_col = Math.floor(Math.random() * col);</span><br><span class="line">            mine--;</span><br><span class="line">            //预防生成位置相同</span><br><span class="line">            if(gridStatus_arr[mine_row][mine_col] == 1)&#123;</span><br><span class="line">                mine++;</span><br><span class="line">                continue;</span><br><span class="line">            &#125;</span><br><span class="line">            gridStatus_arr[mine_row][mine_col] = 1;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-计算每个格子周围八个格子雷的数量"><a href="#5-计算每个格子周围八个格子雷的数量" class="headerlink" title="5.计算每个格子周围八个格子雷的数量"></a>5.计算每个格子周围八个格子雷的数量</h3><p>利用对象来取当前格子周围九宫格的范围，遍历查看对应数组的身份状态</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">function countArountMine()&#123;</span><br><span class="line">    for(let i=0; i&lt;row; i++)&#123;</span><br><span class="line">        for(let j=0; j&lt;col; j++)&#123;</span><br><span class="line">            let around = aroundGrid(i,j);</span><br><span class="line">            let nx = around.nx,</span><br><span class="line">                sx = around.sx,</span><br><span class="line">                wy = around.wy,</span><br><span class="line">                ey = around.ey;</span><br><span class="line">            </span><br><span class="line">            let mineNum = 0; </span><br><span class="line"></span><br><span class="line">            for(let x=nx; x&lt;=sx; x++)&#123;</span><br><span class="line">                for(let y=wy; y&lt;ey; y++)&#123;</span><br><span class="line">                    if(gridStatus_arr[x][y]==1)&#123;</span><br><span class="line">                        mineNum++;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            mineNum_arr[i][j] = mineNum;                            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-添加点击事件"><a href="#6-添加点击事件" class="headerlink" title="6. 添加点击事件"></a>6. 添加点击事件</h3><p>要先去掉默认的contextmenu事件，否则会和默认右键事件同时出现。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">document.oncontextmenu = function (e) &#123;</span><br><span class="line">        e.preventDefault();</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>再添加鼠标点击事件，e.which = 1为鼠标左键 ，e.which = 3为鼠标右键</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">function createClickEvent()&#123;     </span><br><span class="line">        $(&quot;#canvas&quot;).off();</span><br><span class="line">        $(&quot;#canvas&quot;).mousedown(function(e)&#123;</span><br><span class="line">            //因为canvas的X，Y坐标和数组的行列相反，这里直接转换了一下</span><br><span class="line">            let x = Math.floor(e.offsetY / GAID_HEIGHT);</span><br><span class="line">            let y = Math.floor(e.offsetX / GAID_WIDTH);</span><br><span class="line"></span><br><span class="line">            if(e.which == 1)&#123;</span><br><span class="line">                judgeGridStatus(x,y);</span><br><span class="line">            &#125;else if(e.which == 3)&#123;</span><br><span class="line">                signMine(x,y);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="7-判断输赢"><a href="#7-判断输赢" class="headerlink" title="7. 判断输赢"></a>7. 判断输赢</h3><p>对比身份状态是否为1 来判断是否点击到雷。</p>
<p>通过 已打开的格子个数 和 row*col - mine 对比判断是否扫雷成功</p>
<p>这里就不贴代码了，详细可参考我的GitHub仓库</p>
<h3 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h3><p>在canvas的用法上可能有一些不规范，因为花的时间比较短, 用的方法可能不太好, 还请大佬们多多包涵。</p>
<p><a href="https://github.com/syq1035/clearMine" target="_blank" rel="noopener">项目GitHub地址</a></p>
</div><ul class="meta"><li><i class="icon icon-author"></i>syq</li><li><i class="icon icon-clock"></i>16 Minutes</li><li><i class="icon icon-category"></i></li></ul></li></ul><ul class="pagination"><li class="link"><a href="/"><i class="icon icon-arror-left"></i></a></li><li class="current"><a>2</a></li></ul><div class="page-footer"><div class="top"><ul class="social"><li><a href="https://github.com/syq1035" title="Github" target="_blank"><i class="icon icon-github"></i></a></li><li><a href="https://weibo.com/" title="Weibo" target="_blank"><i class="icon icon-weibo"></i></a></li><li><a href="https://www.segmentfault.com/" title="SegmentFault" target="_blank"><i class="icon icon-segmentfault"></i></a></li></ul></div><div class="bottom"><p class="copyright">© 2019 Hexo<br><small>POWER BY <a href="https://hexo.io" target="_blank">HEXO</a></small><small>, THEME BY <a href="https://github.com/BoizZ/hexo-theme-laughing" target="_blank">LAUGHING</a></small></p></div></div></div><script>var wrap = document.getElementById('wrap');
window.onload = function () {
  wrap.className += ' done';
}</script></body></html>